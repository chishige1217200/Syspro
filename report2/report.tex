% ファイル先頭から\begin{document}までの内容（プレアンブル）については，
% 基本的に { } の中を書き換えるだけでよい．
\documentclass[autodetect-engine,dvi=dvipdfmx,ja=standard,
               a4j,11pt]{bxjsarticle}

%%======== プレアンブル ============================================%%
% 用紙設定：指示があれば，適切な余白に設定しなおす
\RequirePackage{geometry}
\geometry{reset,a4paper}
\geometry{hmargin=25truemm,top=25truemm,bottom=25truemm,footskip=10truemm}
%\geometry{showframe} % 本文の"枠"を確認したければ，コメントアウト

% 設定：図の挿入
% http://www.edu.cs.okayama-u.ac.jp/info/tool_guide/tex.html#graphicx
\usepackage{graphicx}

% 設定：ソースコードの挿入
% http://www.edu.cs.okayama-u.ac.jp/info/tool_guide/tex.html#fancyvrb
\usepackage{fancyvrb}
\renewcommand{\theFancyVerbLine}{\texttt{\footnotesize{\arabic{FancyVerbLine}:}}}

%%======== レポートタイトル等 ======================================%%
% ToDo: 提出要領に従って，適切なタイトル・サブタイトルを設定する
\title{システムプログラミング2 \\
       期末レポート}

% ToDo: 自分自身の氏名と学生番号に書き換える
\author{氏名: 重近 大智 (SHIGECHIKA, Daichi) \\
        学生番号: 09501527}

% ToDo: レポート課題等の指示に従って適切に書き換える
\date{出題日: 2020年12月07日 \\
      提出日: \today \\
      締切日: 2020年1月25日 \\}  % 注：最後の\\は不要に見えるが必要．


%%======== 本文 ====================================================%%
\begin{document}
\maketitle
% 目次つきの表紙ページにする場合はコメントを外す
%{\footnotesize \tableofcontents \newpage}

%% 本文は以下に書く．課題に応じて適切な章立てを構成すること．
%% 章＝\section，節＝\subsection，項＝\subsubsection である．

%--------------------------------------------------------------------%
\section{概要} \label{sec:abstract}
本レポートでは，MIPS言語を用いて，提示された5つの課題に取り組み，その解答を報告する．実行結果はxspimによる結果である．

本レポートで報告するシステムプログラミング1の課題は次の5つである．
\begin{enumerate}
\item A.8節 「入力と出力」に示されている方法と， A.9節 最後「システムコール」に示されている方法のそれぞれで \verb|"Hello World"| を表示せよ．両者の方式を比較し考察せよ．\cite{book:assembly}
\item アセンブリ言語中で使用する \verb|.data|， \verb|.text| および \verb|.align| とは何か解説せよ． \ref{sec:p1-2}節のコード中の 9行目の \verb|.data| がない場合，どうなるかについて考察せよ．
\item A.6節 「手続き呼出し規約」に従って，再帰関数 \verb|fact| を実装せよ． (以降の課題においては，この規約に全て従うこと)\cite{book:assembly}
\item 素数を最初から100番目まで求めて表示するMIPSのアセンブリ言語プログラムを作成してテストせよ． その際，素数を求めるためにに表\ref{tab:routine}に示す2つのルーチンを作成すること．
\item 素数を最初から100番目まで求めて表示するMIPSのアセンブリ言語プログラムを作成してテストせよ． ただし，配列に実行結果を保存するように \verb|main| 部分を改造し， ユーザの入力によって任意の番目の配列要素を表示可能にせよ．
\end{enumerate}


%--------------------------------------------------------------------%
\section{プログラムの説明}\label{sec:capp}
使用したMIPSアセンブリ言語のソースコードは，\ref{sec:makep}章に示す．

\subsection{課題2-1}


\subsection{課題2-2}


\subsection{課題2-3}


\subsection{課題2-4}


\subsection{課題2-5}



%--------------------------------------------------------------------%
\section{プログラムの使用法と実行結果}\label{sec:howresult}

プログラムは，CentOS 7.6.1810 (Core) のxspimで動作を確認している．まず，ターミナルに\verb|xspim -mapped_io&|と打ち込んで，xspimを実行する．
実行後にloadの機能を使い，拡張子が\verb|.s|のアセンブリファイルを読み込む．runの機能で読み込んだプログラムを走らせる．プログラムを走らせた後，もう一度プログラムを走らせる場合には\verb|clear|でメモリとレジスタの値を初期化した後，再度ロードする必要がある．



%--------------------------------------------------------------------%
\section{考察} \label{sec:review}

\subsection{課題2-1}


%--------------------------------------------------------------------%
\section{感想}


%--------------------------------------------------------------------%
\section{作成したプログラムのソースコード} \label{sec:makep}

使用したプログラムを以下に添付する．
%なお，\ref{sec:abstract}章に示した課題については，
%\ref{xxxx}章で示したようにすべて正常に動作したことを付記しておく．

% Verbatim environment
% プリアンブルで \usepackage{fancyvrb} が必要．
%   - numbers           行番号を表示．left なら左に表示．
%   - xleftmargin       枠の左の余白．行番号表示用に余白を与えたい．
%   - numbersep         行番号と枠の間隙 (gap)．デフォルトは 12 pt．
%   - fontsize          フォントサイズ指定
%   - baselinestretch   行間の大きさを比率で指定．デフォルトは 1.0．


\subsection{課題2-1で用いたコード} \label{sec:p2-1}
下記は，「入力と出力」に示されている方法で実装した例．
\begin{Verbatim}[numbers=left, xleftmargin=10mm, numbersep=6pt,
                    fontsize=\small, baselinestretch=0.8]
 
\end{Verbatim}

\subsection{課題2-2で用いたコード} \label{sec:p2-2}
\begin{Verbatim}[numbers=left, xleftmargin=10mm, numbersep=6pt,
                    fontsize=\small, baselinestretch=0.8]

\end{Verbatim}


\subsection{課題2-3で用いたコード} \label{sec:p2-3}
\begin{Verbatim}[numbers=left, xleftmargin=10mm, numbersep=6pt,
                    fontsize=\small, baselinestretch=0.8]

\end{Verbatim}

\subsection{課題2-4で用いたコード} \label{sec:p2-4}
\begin{Verbatim}[numbers=left, xleftmargin=10mm, numbersep=6pt,
                    fontsize=\small, baselinestretch=0.8]

\end{Verbatim}


\subsection{課題2-5で用いたコード} \label{sec:p2-5}
\begin{Verbatim}[numbers=left, xleftmargin=10mm, numbersep=6pt,
                    fontsize=\small, baselinestretch=0.8]

\end{Verbatim}

%--------------------------------------------------------------------%
% 参考文献
%   以下は，書き方の例である．実際に，参考にした書籍等を見て書くこと．
%   本文で引用する際は，\cite{book:algodata}などとすればよい．
\begin{thebibliography}{99}
  \bibitem{book:assembly} David A. Patterson，John L. Hennessy，コンピュータの構成と設計　第5版[下]　-ハードウエアとソフトウエア-，日経BP社，2014.
  %\bibitem{book:label2} 著者名，書名，出版社，発行年.
  %\bibitem{www:label3} WWWページタイトル，URL，アクセス日.
\end{thebibliography}

%--------------------------------------------------------------------%
%% 本文はここより上に書く（\begin{document}\UTF{FF5E}\end{document}が本文である）
\end{document}
